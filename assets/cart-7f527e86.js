import{K as d,M as s}from"./index-a8024802.js";import{T as o}from"./toast-c38b61ca.js";const{VITE_URL:r,VITE_PATH:c}={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"test8283",BASE_URL:"/headphone/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},n=d("cart",{state:()=>({carts:[],total:0,final_total:0}),actions:{getCart(){s.get(`${r}/api/${c}/cart`).then(t=>{if(t.data.success){const{carts:a,total:e,final_total:i}=t.data.data;this.carts=a,this.total=e,this.final_total=i}}).catch(t=>{alert(t.response.data.message)})},updateCart(t){const a={product_id:t.product.id,qty:t.qty};s.put(`${r}/api/${c}/cart/${t.id}`,{data:a}).then(e=>{o.fire({icon:"success",title:e.data.message,width:250}),this.getCart()}).catch(e=>{alert(e.response.data.message)})},deleteCart(t){s.delete(`${r}/api/${c}/cart/${t}`).then(a=>{o.fire({icon:"success",title:a.data.message,width:250}),this.getCart()}).catch(a=>{alert(a.response.data.message)})},deleteAllCart(){s.delete(`${r}/api/${c}/carts`).then(t=>{o.fire({icon:"success",title:t.data.message,width:250}),this.getCart()}).catch(t=>{alert(t.response.data.message)})},updateCartItemQty(t,a){t.qty+a>10?t.qty=10:t.qty+a<1?t.qty=1:t.qty+=a,this.updateCart(t)}},getters:{}});export{n as c};

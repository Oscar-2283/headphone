import{T as u}from"./toast-2236d0eb.js";import{_,o as d,b as i,d as s,t as e,j as h,F as p,e as m,l as v}from"./index-a08efcfc.js";const{VITE_URL:n,VITE_PATH:a}={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"test8283",BASE_URL:"/headphone/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},b={inject:["currency","date"],data(){return{order:{user:"",address:"",email:"",name:"",tel:""}}},methods:{getOrder(){this.$http.get(`${n}/api/${a}/order/${this.$route.params.id}`).then(l=>{const{order:r}=l.data;this.order=r}).catch(l=>alert(l.response.data.message))},payOrder(){this.$http.post(`${n}/api/${a}/pay/${this.$route.params.id}`).then(()=>{u.fire({icon:"success",title:"付款成功",width:250}),this.$router.push(`/cart/checkOut/${this.$route.params.id}`)}).catch(l=>alert(l.response.data.message))}},mounted(){this.getOrder()}},f={class:"row g-5 mt-2"},g={class:"col-lg-8 col-12"},y={class:"border border-dark-subtle p-5 bg-white"},x=s("h3",{class:"mb-4"},"訂單資訊",-1),k={class:"orderList"},w=s("p",null,"訂單編號",-1),E=s("p",null,"訂單日期",-1),O=s("p",null,"email",-1),T=s("p",null,"收件人姓名",-1),V=s("p",null,"收件人電話",-1),$=s("p",null,"收件地址",-1),L=s("p",{class:"align-middle"},"訂單金額",-1),R={class:"align-middle"},S=s("p",null,"備註",-1),B={class:"col"},D=v('<div class="row gx-5 mt-4"><h3 class="mb-4">付款資訊</h3><div class="col-md-6 col-12"><h4>付款方式</h4></div><div class="col-md-6 col-12"><div class="form-control d-flex"><input class="form-check-input" type="radio" name="pay" id="cod" value="貨到付款" checked><label class="form-check-label ms-2 w-100" for="cod"> 貨到付款 </label></div></div></div>',1),I={class:"mt-4 text-end"},P={class:"col-lg-4 col-12"},U={class:"border border-dark-subtle p-5 bg-white"},j=s("div",{class:"d-flex justify-content-between w-100"},[s("h3",null,"訂購商品")],-1),A={class:"mt-4"},F={class:"col-3 p-0"},H=["src"],M={class:"ms-auto"};function N(l,r,q,C,t,c){return d(),i("div",f,[s("div",g,[s("div",y,[x,s("ul",k,[s("li",null,[w,s("p",null,e(t.order.id),1)]),s("li",null,[E,s("p",null,e(c.date(t.order.create_at)),1)]),s("li",null,[O,s("p",null,e(t.order.user.email),1)]),s("li",null,[T,s("p",null,e(t.order.user.name),1)]),s("li",null,[V,s("p",null,e(t.order.user.tel),1)]),s("li",null,[$,s("p",null,e(t.order.user.address),1)]),s("li",null,[L,s("h3",R,e(c.currency(t.order.total))+" 元",1)]),s("li",null,[S,s("p",B,e(t.order.message),1)])]),D,s("div",I,[s("button",{type:"submit",class:"btn btn-outline-primary",onClick:r[0]||(r[0]=h(o=>c.payOrder(),["prevent"]))}," 確認付款 ")])])]),s("div",P,[s("div",U,[j,s("div",A,[s("ul",null,[(d(!0),i(p,null,m(t.order.products,o=>(d(),i("li",{class:"d-flex gap-4 align-items-center",key:o.id},[s("div",F,[s("img",{style:{"border-radius":"8px"},src:o.product.imageUrl,alt:""},null,8,H)]),s("div",null,[s("h4",null,e(o.product.title),1),s("p",null,"$"+e(c.currency(o.final_total)),1)]),s("div",M,"x"+e(o.qty),1)]))),128))])])])])])}const J=_(b,[["render",N]]);export{J as default};
